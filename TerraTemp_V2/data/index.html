<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <link href="./css/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="./js/jquery-3.6.0.min.js"></script>
    <script src="./js/jquery.dataTables.min.js"></script>
    <style>
      .overlay {
        display: none;
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 999;
        background: rgba(255, 255, 255, 0.8) center no-repeat;
      }
      body {
        font-family: Arial;
      }
      body.loading {
        overflow: hidden;
      }
      body.loading .overlay {
        display: block;
      }

      /* Style the tab */
      .tab {
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
      }

      /* Style the buttons inside the tab */
      .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
      }

      /* Change background color of buttons on hover */
      .tab button:hover {
        background-color: #ddd;
      }

      /* Create an active/current tablink class */
      .tab button.active {
        background-color: #ccc;
      }

      /* Style the tab content */
      .tabcontent {
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
      }

      label {
        width: 180px;
        display: inline-block;
      }
    </style>
  </head>

  <body>
    <div class="overlay">Saving please wait...</div>

    <div class="tab">
      <button class="tablinks" onclick="openTab(event, 'timerTab')" id="defaultOpen">Timer</button>
      <button class="tablinks" onclick="openTab(event, 'statusTab')">Status</button>
      <button class="tablinks" onclick="openTab(event, 'settingsTab')">Settings</button>
    </div>

    <div id="timerTab" class="tabcontent">
      <table id="contentTable" class="display" width="100%"></table>
      <br />
      <button id="deleteRow">Delete</button><br />
      <hr />
      <table id="editor" class="dataTable" width="100%">
        <tr>
          <td><input type="text" class="validateInput" id="txt_minute" placeholder="minute" /></td>
          <td><input type="text" class="validateInput" id="txt_hour" placeholder="hour" /></td>
          <td><input type="text" class="validateInput" id="txt_dayOfMonth" placeholder="dayOfMonth" /></td>
          <td><input type="text" class="validateInput" id="txt_month" placeholder="month" /></td>
          <td><input type="text" class="validateInput" id="txt_dayOfWeek" placeholder="dayOfWeek" /></td>
          <td>
            <select name="selChannel" id="selChannel">
              <option value="Internal">Internal</option>
              <option value="External0">External 0</option>
              <option value="External1">External 1</option>
              <option value="External2">External 2</option>
              <option value="External3">External 3</option>
            </select>
          </td>
          <td>
            <select name="selFunction" id="selFunction">
              <option value="Switch">Switch</option>
              <option value="Temperature">Temperature</option>
              <option value="Humidity">Humidity</option>
            </select>
          </td>
          <td><input type="text" id="txt_value" placeholder="value" /></td>
          <td><button id="addRow">Add</button></td>
        </tr>
      </table>
      <hr />
      <button id="saveData">Save</button>
    </div>

    <div id="statusTab" class="tabcontent">
      <textarea name="message" id="statusDiv" rows="10" style="width: 100%;" readonly>Loading...</textarea>
    </div>

    <div id="settingsTab" class="tabcontent">
      <fieldset>
        <legend>Wifi Settings:</legend>
        <label for="fSSID">SSID:</label>
        <input type="text" id="fSSID" name="fSSID" /><br />
        <br />
        <label for="fPSK">PSK:</label>
        <input type="password" id="fPSK" name="fPSK" /><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>Time Settings:</legend>
        <label for="fNTPServer">NTP-Server:</label>
        <input type="text" id="fNTPServer" name="fNTPServer" /><br />
        <br />
        <label for="fTimeZone">Time Zone:</label>
        <select name="fTimeZone" id="fTimeZone">
          <option value="TZ_Africa_Abidjan">TZ_Africa_Abidjan</option>
          <option value="TZ_Africa_Accra">TZ_Africa_Accra</option>
          <option value="TZ_Africa_Addis_Ababa">TZ_Africa_Addis_Ababa</option>
          <option value="TZ_Africa_Algiers">TZ_Africa_Algiers</option>
          <option value="TZ_Africa_Asmara">TZ_Africa_Asmara</option>
          <option value="TZ_Africa_Bamako">TZ_Africa_Bamako</option>
          <option value="TZ_Africa_Bangui">TZ_Africa_Bangui</option>
          <option value="TZ_Africa_Banjul">TZ_Africa_Banjul</option>
          <option value="TZ_Africa_Bissau">TZ_Africa_Bissau</option>
          <option value="TZ_Africa_Blantyre">TZ_Africa_Blantyre</option>
          <option value="TZ_Africa_Brazzaville">TZ_Africa_Brazzaville</option>
          <option value="TZ_Africa_Bujumbura">TZ_Africa_Bujumbura</option>
          <option value="TZ_Africa_Cairo">TZ_Africa_Cairo</option>
          <option value="TZ_Africa_Casablanca">TZ_Africa_Casablanca</option>
          <option value="TZ_Africa_Ceuta">TZ_Africa_Ceuta</option>
          <option value="TZ_Africa_Conakry">TZ_Africa_Conakry</option>
          <option value="TZ_Africa_Dakar">TZ_Africa_Dakar</option>
          <option value="TZ_Africa_Dar_es_Salaam">TZ_Africa_Dar_es_Salaam</option>
          <option value="TZ_Africa_Djibouti">TZ_Africa_Djibouti</option>
          <option value="TZ_Africa_Douala">TZ_Africa_Douala</option>
          <option value="TZ_Africa_El_Aaiun">TZ_Africa_El_Aaiun</option>
          <option value="TZ_Africa_Freetown">TZ_Africa_Freetown</option>
          <option value="TZ_Africa_Gaborone">TZ_Africa_Gaborone</option>
          <option value="TZ_Africa_Harare">TZ_Africa_Harare</option>
          <option value="TZ_Africa_Johannesburg">TZ_Africa_Johannesburg</option>
          <option value="TZ_Africa_Juba">TZ_Africa_Juba</option>
          <option value="TZ_Africa_Kampala">TZ_Africa_Kampala</option>
          <option value="TZ_Africa_Khartoum">TZ_Africa_Khartoum</option>
          <option value="TZ_Africa_Kigali">TZ_Africa_Kigali</option>
          <option value="TZ_Africa_Kinshasa">TZ_Africa_Kinshasa</option>
          <option value="TZ_Africa_Lagos">TZ_Africa_Lagos</option>
          <option value="TZ_Africa_Libreville">TZ_Africa_Libreville</option>
          <option value="TZ_Africa_Lome">TZ_Africa_Lome</option>
          <option value="TZ_Africa_Luanda">TZ_Africa_Luanda</option>
          <option value="TZ_Africa_Lubumbashi">TZ_Africa_Lubumbashi</option>
          <option value="TZ_Africa_Lusaka">TZ_Africa_Lusaka</option>
          <option value="TZ_Africa_Malabo">TZ_Africa_Malabo</option>
          <option value="TZ_Africa_Maputo">TZ_Africa_Maputo</option>
          <option value="TZ_Africa_Maseru">TZ_Africa_Maseru</option>
          <option value="TZ_Africa_Mbabane">TZ_Africa_Mbabane</option>
          <option value="TZ_Africa_Mogadishu">TZ_Africa_Mogadishu</option>
          <option value="TZ_Africa_Monrovia">TZ_Africa_Monrovia</option>
          <option value="TZ_Africa_Nairobi">TZ_Africa_Nairobi</option>
          <option value="TZ_Africa_Ndjamena">TZ_Africa_Ndjamena</option>
          <option value="TZ_Africa_Niamey">TZ_Africa_Niamey</option>
          <option value="TZ_Africa_Nouakchott">TZ_Africa_Nouakchott</option>
          <option value="TZ_Africa_Ouagadougou">TZ_Africa_Ouagadougou</option>
          <option value="TZ_Africa_PortomNovo">TZ_Africa_PortomNovo</option>
          <option value="TZ_Africa_Sao_Tome">TZ_Africa_Sao_Tome</option>
          <option value="TZ_Africa_Tripoli">TZ_Africa_Tripoli</option>
          <option value="TZ_Africa_Tunis">TZ_Africa_Tunis</option>
          <option value="TZ_Africa_Windhoek">TZ_Africa_Windhoek</option>
          <option value="TZ_America_Adak">TZ_America_Adak</option>
          <option value="TZ_America_Anchorage">TZ_America_Anchorage</option>
          <option value="TZ_America_Anguilla">TZ_America_Anguilla</option>
          <option value="TZ_America_Antigua">TZ_America_Antigua</option>
          <option value="TZ_America_Araguaina">TZ_America_Araguaina</option>
          <option value="TZ_America_Argentina_Buenos_Aires">TZ_America_Argentina_Buenos_Aires</option>
          <option value="TZ_America_Argentina_Catamarca">TZ_America_Argentina_Catamarca</option>
          <option value="TZ_America_Argentina_Cordoba">TZ_America_Argentina_Cordoba</option>
          <option value="TZ_America_Argentina_Jujuy">TZ_America_Argentina_Jujuy</option>
          <option value="TZ_America_Argentina_La_Rioja">TZ_America_Argentina_La_Rioja</option>
          <option value="TZ_America_Argentina_Mendoza">TZ_America_Argentina_Mendoza</option>
          <option value="TZ_America_Argentina_Rio_Gallegos">TZ_America_Argentina_Rio_Gallegos</option>
          <option value="TZ_America_Argentina_Salta">TZ_America_Argentina_Salta</option>
          <option value="TZ_America_Argentina_San_Juan">TZ_America_Argentina_San_Juan</option>
          <option value="TZ_America_Argentina_San_Luis">TZ_America_Argentina_San_Luis</option>
          <option value="TZ_America_Argentina_Tucuman">TZ_America_Argentina_Tucuman</option>
          <option value="TZ_America_Argentina_Ushuaia">TZ_America_Argentina_Ushuaia</option>
          <option value="TZ_America_Aruba">TZ_America_Aruba</option>
          <option value="TZ_America_Asuncion">TZ_America_Asuncion</option>
          <option value="TZ_America_Atikokan">TZ_America_Atikokan</option>
          <option value="TZ_America_Bahia">TZ_America_Bahia</option>
          <option value="TZ_America_Bahia_Banderas">TZ_America_Bahia_Banderas</option>
          <option value="TZ_America_Barbados">TZ_America_Barbados</option>
          <option value="TZ_America_Belem">TZ_America_Belem</option>
          <option value="TZ_America_Belize">TZ_America_Belize</option>
          <option value="TZ_America_BlancmSablon">TZ_America_BlancmSablon</option>
          <option value="TZ_America_Boa_Vista">TZ_America_Boa_Vista</option>
          <option value="TZ_America_Bogota">TZ_America_Bogota</option>
          <option value="TZ_America_Boise">TZ_America_Boise</option>
          <option value="TZ_America_Cambridge_Bay">TZ_America_Cambridge_Bay</option>
          <option value="TZ_America_Campo_Grande">TZ_America_Campo_Grande</option>
          <option value="TZ_America_Cancun">TZ_America_Cancun</option>
          <option value="TZ_America_Caracas">TZ_America_Caracas</option>
          <option value="TZ_America_Cayenne">TZ_America_Cayenne</option>
          <option value="TZ_America_Cayman">TZ_America_Cayman</option>
          <option value="TZ_America_Chicago">TZ_America_Chicago</option>
          <option value="TZ_America_Chihuahua">TZ_America_Chihuahua</option>
          <option value="TZ_America_Costa_Rica">TZ_America_Costa_Rica</option>
          <option value="TZ_America_Creston">TZ_America_Creston</option>
          <option value="TZ_America_Cuiaba">TZ_America_Cuiaba</option>
          <option value="TZ_America_Curacao">TZ_America_Curacao</option>
          <option value="TZ_America_Danmarkshavn">TZ_America_Danmarkshavn</option>
          <option value="TZ_America_Dawson">TZ_America_Dawson</option>
          <option value="TZ_America_Dawson_Creek">TZ_America_Dawson_Creek</option>
          <option value="TZ_America_Denver">TZ_America_Denver</option>
          <option value="TZ_America_Detroit">TZ_America_Detroit</option>
          <option value="TZ_America_Dominica">TZ_America_Dominica</option>
          <option value="TZ_America_Edmonton">TZ_America_Edmonton</option>
          <option value="TZ_America_Eirunepe">TZ_America_Eirunepe</option>
          <option value="TZ_America_El_Salvador">TZ_America_El_Salvador</option>
          <option value="TZ_America_Fortaleza">TZ_America_Fortaleza</option>
          <option value="TZ_America_Fort_Nelson">TZ_America_Fort_Nelson</option>
          <option value="TZ_America_Glace_Bay">TZ_America_Glace_Bay</option>
          <option value="TZ_America_Godthab">TZ_America_Godthab</option>
          <option value="TZ_America_Goose_Bay">TZ_America_Goose_Bay</option>
          <option value="TZ_America_Grand_Turk">TZ_America_Grand_Turk</option>
          <option value="TZ_America_Grenada">TZ_America_Grenada</option>
          <option value="TZ_America_Guadeloupe">TZ_America_Guadeloupe</option>
          <option value="TZ_America_Guatemala">TZ_America_Guatemala</option>
          <option value="TZ_America_Guayaquil">TZ_America_Guayaquil</option>
          <option value="TZ_America_Guyana">TZ_America_Guyana</option>
          <option value="TZ_America_Halifax">TZ_America_Halifax</option>
          <option value="TZ_America_Havana">TZ_America_Havana</option>
          <option value="TZ_America_Hermosillo">TZ_America_Hermosillo</option>
          <option value="TZ_America_Indiana_Indianapolis">TZ_America_Indiana_Indianapolis</option>
          <option value="TZ_America_Indiana_Knox">TZ_America_Indiana_Knox</option>
          <option value="TZ_America_Indiana_Marengo">TZ_America_Indiana_Marengo</option>
          <option value="TZ_America_Indiana_Petersburg">TZ_America_Indiana_Petersburg</option>
          <option value="TZ_America_Indiana_Tell_City">TZ_America_Indiana_Tell_City</option>
          <option value="TZ_America_Indiana_Vevay">TZ_America_Indiana_Vevay</option>
          <option value="TZ_America_Indiana_Vincennes">TZ_America_Indiana_Vincennes</option>
          <option value="TZ_America_Indiana_Winamac">TZ_America_Indiana_Winamac</option>
          <option value="TZ_America_Inuvik">TZ_America_Inuvik</option>
          <option value="TZ_America_Iqaluit">TZ_America_Iqaluit</option>
          <option value="TZ_America_Jamaica">TZ_America_Jamaica</option>
          <option value="TZ_America_Juneau">TZ_America_Juneau</option>
          <option value="TZ_America_Kentucky_Louisville">TZ_America_Kentucky_Louisville</option>
          <option value="TZ_America_Kentucky_Monticello">TZ_America_Kentucky_Monticello</option>
          <option value="TZ_America_Kralendijk">TZ_America_Kralendijk</option>
          <option value="TZ_America_La_Paz">TZ_America_La_Paz</option>
          <option value="TZ_America_Lima">TZ_America_Lima</option>
          <option value="TZ_America_Los_Angeles">TZ_America_Los_Angeles</option>
          <option value="TZ_America_Lower_Princes">TZ_America_Lower_Princes</option>
          <option value="TZ_America_Maceio">TZ_America_Maceio</option>
          <option value="TZ_America_Managua">TZ_America_Managua</option>
          <option value="TZ_America_Manaus">TZ_America_Manaus</option>
          <option value="TZ_America_Marigot">TZ_America_Marigot</option>
          <option value="TZ_America_Martinique">TZ_America_Martinique</option>
          <option value="TZ_America_Matamoros">TZ_America_Matamoros</option>
          <option value="TZ_America_Mazatlan">TZ_America_Mazatlan</option>
          <option value="TZ_America_Menominee">TZ_America_Menominee</option>
          <option value="TZ_America_Merida">TZ_America_Merida</option>
          <option value="TZ_America_Metlakatla">TZ_America_Metlakatla</option>
          <option value="TZ_America_Mexico_City">TZ_America_Mexico_City</option>
          <option value="TZ_America_Miquelon">TZ_America_Miquelon</option>
          <option value="TZ_America_Moncton">TZ_America_Moncton</option>
          <option value="TZ_America_Monterrey">TZ_America_Monterrey</option>
          <option value="TZ_America_Montevideo">TZ_America_Montevideo</option>
          <option value="TZ_America_Montreal">TZ_America_Montreal</option>
          <option value="TZ_America_Montserrat">TZ_America_Montserrat</option>
          <option value="TZ_America_Nassau">TZ_America_Nassau</option>
          <option value="TZ_America_New_York">TZ_America_New_York</option>
          <option value="TZ_America_Nipigon">TZ_America_Nipigon</option>
          <option value="TZ_America_Nome">TZ_America_Nome</option>
          <option value="TZ_America_Noronha">TZ_America_Noronha</option>
          <option value="TZ_America_North_Dakota_Beulah">TZ_America_North_Dakota_Beulah</option>
          <option value="TZ_America_North_Dakota_Center">TZ_America_North_Dakota_Center</option>
          <option value="TZ_America_North_Dakota_New_Salem">TZ_America_North_Dakota_New_Salem</option>
          <option value="TZ_America_Ojinaga">TZ_America_Ojinaga</option>
          <option value="TZ_America_Panama">TZ_America_Panama</option>
          <option value="TZ_America_Pangnirtung">TZ_America_Pangnirtung</option>
          <option value="TZ_America_Paramaribo">TZ_America_Paramaribo</option>
          <option value="TZ_America_Phoenix">TZ_America_Phoenix</option>
          <option value="TZ_America_PortmaumPrince">TZ_America_PortmaumPrince</option>
          <option value="TZ_America_Port_of_Spain">TZ_America_Port_of_Spain</option>
          <option value="TZ_America_Porto_Velho">TZ_America_Porto_Velho</option>
          <option value="TZ_America_Puerto_Rico">TZ_America_Puerto_Rico</option>
          <option value="TZ_America_Punta_Arenas">TZ_America_Punta_Arenas</option>
          <option value="TZ_America_Rainy_River">TZ_America_Rainy_River</option>
          <option value="TZ_America_Rankin_Inlet">TZ_America_Rankin_Inlet</option>
          <option value="TZ_America_Recife">TZ_America_Recife</option>
          <option value="TZ_America_Regina">TZ_America_Regina</option>
          <option value="TZ_America_Resolute">TZ_America_Resolute</option>
          <option value="TZ_America_Rio_Branco">TZ_America_Rio_Branco</option>
          <option value="TZ_America_Santarem">TZ_America_Santarem</option>
          <option value="TZ_America_Santiago">TZ_America_Santiago</option>
          <option value="TZ_America_Santo_Domingo">TZ_America_Santo_Domingo</option>
          <option value="TZ_America_Sao_Paulo">TZ_America_Sao_Paulo</option>
          <option value="TZ_America_Scoresbysund">TZ_America_Scoresbysund</option>
          <option value="TZ_America_Sitka">TZ_America_Sitka</option>
          <option value="TZ_America_St_Barthelemy">TZ_America_St_Barthelemy</option>
          <option value="TZ_America_St_Johns">TZ_America_St_Johns</option>
          <option value="TZ_America_St_Kitts">TZ_America_St_Kitts</option>
          <option value="TZ_America_St_Lucia">TZ_America_St_Lucia</option>
          <option value="TZ_America_St_Thomas">TZ_America_St_Thomas</option>
          <option value="TZ_America_St_Vincent">TZ_America_St_Vincent</option>
          <option value="TZ_America_Swift_Current">TZ_America_Swift_Current</option>
          <option value="TZ_America_Tegucigalpa">TZ_America_Tegucigalpa</option>
          <option value="TZ_America_Thule">TZ_America_Thule</option>
          <option value="TZ_America_Thunder_Bay">TZ_America_Thunder_Bay</option>
          <option value="TZ_America_Tijuana">TZ_America_Tijuana</option>
          <option value="TZ_America_Toronto">TZ_America_Toronto</option>
          <option value="TZ_America_Tortola">TZ_America_Tortola</option>
          <option value="TZ_America_Vancouver">TZ_America_Vancouver</option>
          <option value="TZ_America_Whitehorse">TZ_America_Whitehorse</option>
          <option value="TZ_America_Winnipeg">TZ_America_Winnipeg</option>
          <option value="TZ_America_Yakutat">TZ_America_Yakutat</option>
          <option value="TZ_America_Yellowknife">TZ_America_Yellowknife</option>
          <option value="TZ_Antarctica_Casey">TZ_Antarctica_Casey</option>
          <option value="TZ_Antarctica_Davis">TZ_Antarctica_Davis</option>
          <option value="TZ_Antarctica_DumontDUrville">TZ_Antarctica_DumontDUrville</option>
          <option value="TZ_Antarctica_Macquarie">TZ_Antarctica_Macquarie</option>
          <option value="TZ_Antarctica_Mawson">TZ_Antarctica_Mawson</option>
          <option value="TZ_Antarctica_McMurdo">TZ_Antarctica_McMurdo</option>
          <option value="TZ_Antarctica_Palmer">TZ_Antarctica_Palmer</option>
          <option value="TZ_Antarctica_Rothera">TZ_Antarctica_Rothera</option>
          <option value="TZ_Antarctica_Syowa">TZ_Antarctica_Syowa</option>
          <option value="TZ_Antarctica_Troll">TZ_Antarctica_Troll</option>
          <option value="TZ_Antarctica_Vostok">TZ_Antarctica_Vostok</option>
          <option value="TZ_Arctic_Longyearbyen">TZ_Arctic_Longyearbyen</option>
          <option value="TZ_Asia_Aden">TZ_Asia_Aden</option>
          <option value="TZ_Asia_Almaty">TZ_Asia_Almaty</option>
          <option value="TZ_Asia_Amman">TZ_Asia_Amman</option>
          <option value="TZ_Asia_Anadyr">TZ_Asia_Anadyr</option>
          <option value="TZ_Asia_Aqtau">TZ_Asia_Aqtau</option>
          <option value="TZ_Asia_Aqtobe">TZ_Asia_Aqtobe</option>
          <option value="TZ_Asia_Ashgabat">TZ_Asia_Ashgabat</option>
          <option value="TZ_Asia_Atyrau">TZ_Asia_Atyrau</option>
          <option value="TZ_Asia_Baghdad">TZ_Asia_Baghdad</option>
          <option value="TZ_Asia_Bahrain">TZ_Asia_Bahrain</option>
          <option value="TZ_Asia_Baku">TZ_Asia_Baku</option>
          <option value="TZ_Asia_Bangkok">TZ_Asia_Bangkok</option>
          <option value="TZ_Asia_Barnaul">TZ_Asia_Barnaul</option>
          <option value="TZ_Asia_Beirut">TZ_Asia_Beirut</option>
          <option value="TZ_Asia_Bishkek">TZ_Asia_Bishkek</option>
          <option value="TZ_Asia_Brunei">TZ_Asia_Brunei</option>
          <option value="TZ_Asia_Chita">TZ_Asia_Chita</option>
          <option value="TZ_Asia_Choibalsan">TZ_Asia_Choibalsan</option>
          <option value="TZ_Asia_Colombo">TZ_Asia_Colombo</option>
          <option value="TZ_Asia_Damascus">TZ_Asia_Damascus</option>
          <option value="TZ_Asia_Dhaka">TZ_Asia_Dhaka</option>
          <option value="TZ_Asia_Dili">TZ_Asia_Dili</option>
          <option value="TZ_Asia_Dubai">TZ_Asia_Dubai</option>
          <option value="TZ_Asia_Dushanbe">TZ_Asia_Dushanbe</option>
          <option value="TZ_Asia_Famagusta">TZ_Asia_Famagusta</option>
          <option value="TZ_Asia_Gaza">TZ_Asia_Gaza</option>
          <option value="TZ_Asia_Hebron">TZ_Asia_Hebron</option>
          <option value="TZ_Asia_Ho_Chi_Minh">TZ_Asia_Ho_Chi_Minh</option>
          <option value="TZ_Asia_Hong_Kong">TZ_Asia_Hong_Kong</option>
          <option value="TZ_Asia_Hovd">TZ_Asia_Hovd</option>
          <option value="TZ_Asia_Irkutsk">TZ_Asia_Irkutsk</option>
          <option value="TZ_Asia_Jakarta">TZ_Asia_Jakarta</option>
          <option value="TZ_Asia_Jayapura">TZ_Asia_Jayapura</option>
          <option value="TZ_Asia_Jerusalem">TZ_Asia_Jerusalem</option>
          <option value="TZ_Asia_Kabul">TZ_Asia_Kabul</option>
          <option value="TZ_Asia_Kamchatka">TZ_Asia_Kamchatka</option>
          <option value="TZ_Asia_Karachi">TZ_Asia_Karachi</option>
          <option value="TZ_Asia_Kathmandu">TZ_Asia_Kathmandu</option>
          <option value="TZ_Asia_Khandyga">TZ_Asia_Khandyga</option>
          <option value="TZ_Asia_Kolkata">TZ_Asia_Kolkata</option>
          <option value="TZ_Asia_Krasnoyarsk">TZ_Asia_Krasnoyarsk</option>
          <option value="TZ_Asia_Kuala_Lumpur">TZ_Asia_Kuala_Lumpur</option>
          <option value="TZ_Asia_Kuching">TZ_Asia_Kuching</option>
          <option value="TZ_Asia_Kuwait">TZ_Asia_Kuwait</option>
          <option value="TZ_Asia_Macau">TZ_Asia_Macau</option>
          <option value="TZ_Asia_Magadan">TZ_Asia_Magadan</option>
          <option value="TZ_Asia_Makassar">TZ_Asia_Makassar</option>
          <option value="TZ_Asia_Manila">TZ_Asia_Manila</option>
          <option value="TZ_Asia_Muscat">TZ_Asia_Muscat</option>
          <option value="TZ_Asia_Nicosia">TZ_Asia_Nicosia</option>
          <option value="TZ_Asia_Novokuznetsk">TZ_Asia_Novokuznetsk</option>
          <option value="TZ_Asia_Novosibirsk">TZ_Asia_Novosibirsk</option>
          <option value="TZ_Asia_Omsk">TZ_Asia_Omsk</option>
          <option value="TZ_Asia_Oral">TZ_Asia_Oral</option>
          <option value="TZ_Asia_Phnom_Penh">TZ_Asia_Phnom_Penh</option>
          <option value="TZ_Asia_Pontianak">TZ_Asia_Pontianak</option>
          <option value="TZ_Asia_Pyongyang">TZ_Asia_Pyongyang</option>
          <option value="TZ_Asia_Qatar">TZ_Asia_Qatar</option>
          <option value="TZ_Asia_Qyzylorda">TZ_Asia_Qyzylorda</option>
          <option value="TZ_Asia_Riyadh">TZ_Asia_Riyadh</option>
          <option value="TZ_Asia_Sakhalin">TZ_Asia_Sakhalin</option>
          <option value="TZ_Asia_Samarkand">TZ_Asia_Samarkand</option>
          <option value="TZ_Asia_Seoul">TZ_Asia_Seoul</option>
          <option value="TZ_Asia_Shanghai">TZ_Asia_Shanghai</option>
          <option value="TZ_Asia_Singapore">TZ_Asia_Singapore</option>
          <option value="TZ_Asia_Srednekolymsk">TZ_Asia_Srednekolymsk</option>
          <option value="TZ_Asia_Taipei">TZ_Asia_Taipei</option>
          <option value="TZ_Asia_Tashkent">TZ_Asia_Tashkent</option>
          <option value="TZ_Asia_Tbilisi">TZ_Asia_Tbilisi</option>
          <option value="TZ_Asia_Tehran">TZ_Asia_Tehran</option>
          <option value="TZ_Asia_Thimphu">TZ_Asia_Thimphu</option>
          <option value="TZ_Asia_Tokyo">TZ_Asia_Tokyo</option>
          <option value="TZ_Asia_Tomsk">TZ_Asia_Tomsk</option>
          <option value="TZ_Asia_Ulaanbaatar">TZ_Asia_Ulaanbaatar</option>
          <option value="TZ_Asia_Urumqi">TZ_Asia_Urumqi</option>
          <option value="TZ_Asia_UstmNera">TZ_Asia_UstmNera</option>
          <option value="TZ_Asia_Vientiane">TZ_Asia_Vientiane</option>
          <option value="TZ_Asia_Vladivostok">TZ_Asia_Vladivostok</option>
          <option value="TZ_Asia_Yakutsk">TZ_Asia_Yakutsk</option>
          <option value="TZ_Asia_Yangon">TZ_Asia_Yangon</option>
          <option value="TZ_Asia_Yekaterinburg">TZ_Asia_Yekaterinburg</option>
          <option value="TZ_Asia_Yerevan">TZ_Asia_Yerevan</option>
          <option value="TZ_Atlantic_Azores">TZ_Atlantic_Azores</option>
          <option value="TZ_Atlantic_Bermuda">TZ_Atlantic_Bermuda</option>
          <option value="TZ_Atlantic_Canary">TZ_Atlantic_Canary</option>
          <option value="TZ_Atlantic_Cape_Verde">TZ_Atlantic_Cape_Verde</option>
          <option value="TZ_Atlantic_Faroe">TZ_Atlantic_Faroe</option>
          <option value="TZ_Atlantic_Madeira">TZ_Atlantic_Madeira</option>
          <option value="TZ_Atlantic_Reykjavik">TZ_Atlantic_Reykjavik</option>
          <option value="TZ_Atlantic_South_Georgia">TZ_Atlantic_South_Georgia</option>
          <option value="TZ_Atlantic_Stanley">TZ_Atlantic_Stanley</option>
          <option value="TZ_Atlantic_St_Helena">TZ_Atlantic_St_Helena</option>
          <option value="TZ_Australia_Adelaide">TZ_Australia_Adelaide</option>
          <option value="TZ_Australia_Brisbane">TZ_Australia_Brisbane</option>
          <option value="TZ_Australia_Broken_Hill">TZ_Australia_Broken_Hill</option>
          <option value="TZ_Australia_Currie">TZ_Australia_Currie</option>
          <option value="TZ_Australia_Darwin">TZ_Australia_Darwin</option>
          <option value="TZ_Australia_Eucla">TZ_Australia_Eucla</option>
          <option value="TZ_Australia_Hobart">TZ_Australia_Hobart</option>
          <option value="TZ_Australia_Lindeman">TZ_Australia_Lindeman</option>
          <option value="TZ_Australia_Lord_Howe">TZ_Australia_Lord_Howe</option>
          <option value="TZ_Australia_Melbourne">TZ_Australia_Melbourne</option>
          <option value="TZ_Australia_Perth">TZ_Australia_Perth</option>
          <option value="TZ_Australia_Sydney">TZ_Australia_Sydney</option>
          <option value="TZ_Europe_Amsterdam">TZ_Europe_Amsterdam</option>
          <option value="TZ_Europe_Andorra">TZ_Europe_Andorra</option>
          <option value="TZ_Europe_Astrakhan">TZ_Europe_Astrakhan</option>
          <option value="TZ_Europe_Athens">TZ_Europe_Athens</option>
          <option value="TZ_Europe_Belgrade">TZ_Europe_Belgrade</option>
          <option value="TZ_Europe_Berlin">TZ_Europe_Berlin</option>
          <option value="TZ_Europe_Bratislava">TZ_Europe_Bratislava</option>
          <option value="TZ_Europe_Brussels">TZ_Europe_Brussels</option>
          <option value="TZ_Europe_Bucharest">TZ_Europe_Bucharest</option>
          <option value="TZ_Europe_Budapest">TZ_Europe_Budapest</option>
          <option value="TZ_Europe_Busingen">TZ_Europe_Busingen</option>
          <option value="TZ_Europe_Chisinau">TZ_Europe_Chisinau</option>
          <option value="TZ_Europe_Copenhagen">TZ_Europe_Copenhagen</option>
          <option value="TZ_Europe_Dublin">TZ_Europe_Dublin</option>
          <option value="TZ_Europe_Gibraltar">TZ_Europe_Gibraltar</option>
          <option value="TZ_Europe_Guernsey">TZ_Europe_Guernsey</option>
          <option value="TZ_Europe_Helsinki">TZ_Europe_Helsinki</option>
          <option value="TZ_Europe_Isle_of_Man">TZ_Europe_Isle_of_Man</option>
          <option value="TZ_Europe_Istanbul">TZ_Europe_Istanbul</option>
          <option value="TZ_Europe_Jersey">TZ_Europe_Jersey</option>
          <option value="TZ_Europe_Kaliningrad">TZ_Europe_Kaliningrad</option>
          <option value="TZ_Europe_Kiev">TZ_Europe_Kiev</option>
          <option value="TZ_Europe_Kirov">TZ_Europe_Kirov</option>
          <option value="TZ_Europe_Lisbon">TZ_Europe_Lisbon</option>
          <option value="TZ_Europe_Ljubljana">TZ_Europe_Ljubljana</option>
          <option value="TZ_Europe_London">TZ_Europe_London</option>
          <option value="TZ_Europe_Luxembourg">TZ_Europe_Luxembourg</option>
          <option value="TZ_Europe_Madrid">TZ_Europe_Madrid</option>
          <option value="TZ_Europe_Malta">TZ_Europe_Malta</option>
          <option value="TZ_Europe_Mariehamn">TZ_Europe_Mariehamn</option>
          <option value="TZ_Europe_Minsk">TZ_Europe_Minsk</option>
          <option value="TZ_Europe_Monaco">TZ_Europe_Monaco</option>
          <option value="TZ_Europe_Moscow">TZ_Europe_Moscow</option>
          <option value="TZ_Europe_Oslo">TZ_Europe_Oslo</option>
          <option value="TZ_Europe_Paris">TZ_Europe_Paris</option>
          <option value="TZ_Europe_Podgorica">TZ_Europe_Podgorica</option>
          <option value="TZ_Europe_Prague">TZ_Europe_Prague</option>
          <option value="TZ_Europe_Riga">TZ_Europe_Riga</option>
          <option value="TZ_Europe_Rome">TZ_Europe_Rome</option>
          <option value="TZ_Europe_Samara">TZ_Europe_Samara</option>
          <option value="TZ_Europe_San_Marino">TZ_Europe_San_Marino</option>
          <option value="TZ_Europe_Sarajevo">TZ_Europe_Sarajevo</option>
          <option value="TZ_Europe_Saratov">TZ_Europe_Saratov</option>
          <option value="TZ_Europe_Simferopol">TZ_Europe_Simferopol</option>
          <option value="TZ_Europe_Skopje">TZ_Europe_Skopje</option>
          <option value="TZ_Europe_Sofia">TZ_Europe_Sofia</option>
          <option value="TZ_Europe_Stockholm">TZ_Europe_Stockholm</option>
          <option value="TZ_Europe_Tallinn">TZ_Europe_Tallinn</option>
          <option value="TZ_Europe_Tirane">TZ_Europe_Tirane</option>
          <option value="TZ_Europe_Ulyanovsk">TZ_Europe_Ulyanovsk</option>
          <option value="TZ_Europe_Uzhgorod">TZ_Europe_Uzhgorod</option>
          <option value="TZ_Europe_Vaduz">TZ_Europe_Vaduz</option>
          <option value="TZ_Europe_Vatican">TZ_Europe_Vatican</option>
          <option value="TZ_Europe_Vienna">TZ_Europe_Vienna</option>
          <option value="TZ_Europe_Vilnius">TZ_Europe_Vilnius</option>
          <option value="TZ_Europe_Volgograd">TZ_Europe_Volgograd</option>
          <option value="TZ_Europe_Warsaw">TZ_Europe_Warsaw</option>
          <option value="TZ_Europe_Zagreb">TZ_Europe_Zagreb</option>
          <option value="TZ_Europe_Zaporozhye">TZ_Europe_Zaporozhye</option>
          <option value="TZ_Europe_Zurich">TZ_Europe_Zurich</option>
          <option value="TZ_Indian_Antananarivo">TZ_Indian_Antananarivo</option>
          <option value="TZ_Indian_Chagos">TZ_Indian_Chagos</option>
          <option value="TZ_Indian_Christmas">TZ_Indian_Christmas</option>
          <option value="TZ_Indian_Cocos">TZ_Indian_Cocos</option>
          <option value="TZ_Indian_Comoro">TZ_Indian_Comoro</option>
          <option value="TZ_Indian_Kerguelen">TZ_Indian_Kerguelen</option>
          <option value="TZ_Indian_Mahe">TZ_Indian_Mahe</option>
          <option value="TZ_Indian_Maldives">TZ_Indian_Maldives</option>
          <option value="TZ_Indian_Mauritius">TZ_Indian_Mauritius</option>
          <option value="TZ_Indian_Mayotte">TZ_Indian_Mayotte</option>
          <option value="TZ_Indian_Reunion">TZ_Indian_Reunion</option>
          <option value="TZ_Pacific_Apia">TZ_Pacific_Apia</option>
          <option value="TZ_Pacific_Auckland">TZ_Pacific_Auckland</option>
          <option value="TZ_Pacific_Bougainville">TZ_Pacific_Bougainville</option>
          <option value="TZ_Pacific_Chatham">TZ_Pacific_Chatham</option>
          <option value="TZ_Pacific_Chuuk">TZ_Pacific_Chuuk</option>
          <option value="TZ_Pacific_Easter">TZ_Pacific_Easter</option>
          <option value="TZ_Pacific_Efate">TZ_Pacific_Efate</option>
          <option value="TZ_Pacific_Enderbury">TZ_Pacific_Enderbury</option>
          <option value="TZ_Pacific_Fakaofo">TZ_Pacific_Fakaofo</option>
          <option value="TZ_Pacific_Fiji">TZ_Pacific_Fiji</option>
          <option value="TZ_Pacific_Funafuti">TZ_Pacific_Funafuti</option>
          <option value="TZ_Pacific_Galapagos">TZ_Pacific_Galapagos</option>
          <option value="TZ_Pacific_Gambier">TZ_Pacific_Gambier</option>
          <option value="TZ_Pacific_Guadalcanal">TZ_Pacific_Guadalcanal</option>
          <option value="TZ_Pacific_Guam">TZ_Pacific_Guam</option>
          <option value="TZ_Pacific_Honolulu">TZ_Pacific_Honolulu</option>
          <option value="TZ_Pacific_Kiritimati">TZ_Pacific_Kiritimati</option>
          <option value="TZ_Pacific_Kosrae">TZ_Pacific_Kosrae</option>
          <option value="TZ_Pacific_Kwajalein">TZ_Pacific_Kwajalein</option>
          <option value="TZ_Pacific_Majuro">TZ_Pacific_Majuro</option>
          <option value="TZ_Pacific_Marquesas">TZ_Pacific_Marquesas</option>
          <option value="TZ_Pacific_Midway">TZ_Pacific_Midway</option>
          <option value="TZ_Pacific_Nauru">TZ_Pacific_Nauru</option>
          <option value="TZ_Pacific_Niue">TZ_Pacific_Niue</option>
          <option value="TZ_Pacific_Norfolk">TZ_Pacific_Norfolk</option>
          <option value="TZ_Pacific_Noumea">TZ_Pacific_Noumea</option>
          <option value="TZ_Pacific_Pago_Pago">TZ_Pacific_Pago_Pago</option>
          <option value="TZ_Pacific_Palau">TZ_Pacific_Palau</option>
          <option value="TZ_Pacific_Pitcairn">TZ_Pacific_Pitcairn</option>
          <option value="TZ_Pacific_Pohnpei">TZ_Pacific_Pohnpei</option>
          <option value="TZ_Pacific_Port_Moresby">TZ_Pacific_Port_Moresby</option>
          <option value="TZ_Pacific_Rarotonga">TZ_Pacific_Rarotonga</option>
          <option value="TZ_Pacific_Saipan">TZ_Pacific_Saipan</option>
          <option value="TZ_Pacific_Tahiti">TZ_Pacific_Tahiti</option>
          <option value="TZ_Pacific_Tarawa">TZ_Pacific_Tarawa</option>
          <option value="TZ_Pacific_Tongatapu">TZ_Pacific_Tongatapu</option>
          <option value="TZ_Pacific_Wake">TZ_Pacific_Wake</option>
          <option value="TZ_Pacific_Wallis">TZ_Pacific_Wallis</option>
          <option value="TZ_Etc_GMT">TZ_Etc_GMT</option>
          <option value="TZ_Etc_GMTm0">TZ_Etc_GMTm0</option>
          <option value="TZ_Etc_GMTm1">TZ_Etc_GMTm1</option>
          <option value="TZ_Etc_GMTm2">TZ_Etc_GMTm2</option>
          <option value="TZ_Etc_GMTm3">TZ_Etc_GMTm3</option>
          <option value="TZ_Etc_GMTm4">TZ_Etc_GMTm4</option>
          <option value="TZ_Etc_GMTm5">TZ_Etc_GMTm5</option>
          <option value="TZ_Etc_GMTm6">TZ_Etc_GMTm6</option>
          <option value="TZ_Etc_GMTm7">TZ_Etc_GMTm7</option>
          <option value="TZ_Etc_GMTm8">TZ_Etc_GMTm8</option>
          <option value="TZ_Etc_GMTm9">TZ_Etc_GMTm9</option>
          <option value="TZ_Etc_GMTm10">TZ_Etc_GMTm10</option>
          <option value="TZ_Etc_GMTm11">TZ_Etc_GMTm11</option>
          <option value="TZ_Etc_GMTm12">TZ_Etc_GMTm12</option>
          <option value="TZ_Etc_GMTm13">TZ_Etc_GMTm13</option>
          <option value="TZ_Etc_GMTm14">TZ_Etc_GMTm14</option>
          <option value="TZ_Etc_GMT0">TZ_Etc_GMT0</option>
          <option value="TZ_Etc_GMTp0">TZ_Etc_GMTp0</option>
          <option value="TZ_Etc_GMTp1">TZ_Etc_GMTp1</option>
          <option value="TZ_Etc_GMTp2">TZ_Etc_GMTp2</option>
          <option value="TZ_Etc_GMTp3">TZ_Etc_GMTp3</option>
          <option value="TZ_Etc_GMTp4">TZ_Etc_GMTp4</option>
          <option value="TZ_Etc_GMTp5">TZ_Etc_GMTp5</option>
          <option value="TZ_Etc_GMTp6">TZ_Etc_GMTp6</option>
          <option value="TZ_Etc_GMTp7">TZ_Etc_GMTp7</option>
          <option value="TZ_Etc_GMTp8">TZ_Etc_GMTp8</option>
          <option value="TZ_Etc_GMTp9">TZ_Etc_GMTp9</option>
          <option value="TZ_Etc_GMTp10">TZ_Etc_GMTp10</option>
          <option value="TZ_Etc_GMTp11">TZ_Etc_GMTp11</option>
          <option value="TZ_Etc_GMTp12">TZ_Etc_GMTp12</option>
          <option value="TZ_Etc_UCT">TZ_Etc_UCT</option>
          <option value="TZ_Etc_UTC">TZ_Etc_UTC</option>
          <option value="TZ_Etc_Greenwich">TZ_Etc_Greenwich</option>
          <option value="TZ_Etc_Universal">TZ_Etc_Universal</option>
          <option value="TZ_Etc_Zulu">TZ_Etc_Zulu</option>
        </select><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>Sensor Settings:</legend>
        <label for="fHysteresisTemperature">Hysteresis Temperature:</label>
        <input type="text" id="fHysteresisTemperature" name="fHysteresisTemperature" /><br />
        <br />
        <label for="fHysteresisHumidity">Hysteresis Humidity:</label>
        <input type="text" id="fHysteresisHumidity" name="fHysteresisHumidity" /><br />
        <br />
        <label for="fTemperatureOffset">Temperature Offset:</label>
        <input type="text" id="fTemperatureOffset" name="fTemperatureOffset" /><br />
        <br />
        <label for="fHumidityOffset">Humidity Offset:</label>
        <input type="text" id="fHumidityOffset" name="fHumidityOffset" /><br />
        <br />
        <label>Invert Internal Output:</label>
        <input type="checkbox" id="fInvertInternalOutput" name="fInvertInternalOutput" />
        <label for="fOutputonSensorFail">Invert</label><br />
        <br />
        <label>Output on Sensor Fail:</label>
        <input type="checkbox" id="fOutputonSensorFail" name="fOutputonSensorFail" value="On" />
        <label for="fOutputonSensorFail">On</label><br />
        <br />
        <label>Output on Time Fail:</label>
        <input type="checkbox" id="fOutputonTimeFail" name="fOutputonTimeFail" value="On" />
        <label for="fOutputonTimeFail">On</label><br />
        <br />
        <label>Output on Internet Fail:</label>
        <input type="checkbox" id="fOutputonInternetFail" name="fOutputonInternetFail" value="On" />
        <label for="fOutputonInternetFail">On</label><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>Sensor Logging:</legend>
        <label for="fLogInterval">Log Interval:</label>
        <input type="text" id="fLogInterval" name="fLogInterval" /><br />
        <br />
        <label for="fLogHttpLink">Log Http Link:</label>
        <input type="text" id="fLogHttpLink" name="fLogHttpLink" /><br />
        <br />
        <label for="fThingspeakLink">Thingspeak Link:</label>
        <input type="text" id="fThingspeakLink" name="fThingspeakLink" /><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>ext. Channel Settings:</legend>
        <label for="fChannel_1Link">Channel1 http-link:</label>
        <input type="text" id="fChannel_1Link" name="fChannel_1Link" /><br />
        <br />
        <label for="fChannel_2Link">Channel2 http-link:</label>
        <input type="text" id="fChannel_2Link" name="fChannel_2Link" /><br />
        <br />
        <label for="fChannel_3Link">Channel3 http-link:</label>
        <input type="text" id="fChannel_3Link" name="fChannel_3Link" /><br />
        <br />
        <label for="fChannel_4Link">Channel4 http-link:</label>
        <input type="text" id="fChannel_4Link" name="fChannel_4Link" /><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>System Settings:</legend>
        <label for="fFWUpdate">Firmware Update:</label>
        <input type="button" id="fFWUpdate" name="fFWUpdate" value="Upload" /><br />
        <br />
        <label for="fLanguageFile">Language File:</label>
        <input type="button" id="fLanguageFile" name="fLanguageFile" value="Upload" /><br />
        <br />
        <label for="fLicenceFile">Licence File:</label>
        <input type="button" id="fLicenceFile" name="fLicenceFile" value="Upload" /><br />
        <br />
        <label for="ftimerBackupFile">Timer Backup:</label>
        <input type="button" id="ftimerBackupFile" name="ftimerBackupFile" value="Download" /><br />
        <br />
        <label for="ftimerRestoreFile">Timer Restore:</label>
        <input type="button" id="ftimerRestoreFile" name="ftimerRestoreFile" value="Upload" /><br />
        <br />
        <label for="fsettingsBackupFile">Settings Backup:</label>
        <input type="button" id="fsettingsBackupFile" name="fsettingsBackupFile" value="Download" /><br />
        <br />
        <label for="fsettingsRestoreFile">Settings Restore:</label>
        <input type="button" id="fsettingsRestoreFile" name="fsettingsRestoreFile" value="Upload" /><br />
        <br />
      </fieldset>

      <br />
      <input type="button" id="buttonSave" value="Save" />
    </div>

    <script>
      var isUnsaved = false;
      var statusTimer;

      window.onbeforeunload = function (e) {
        e = e || window.event;
        if (isUnsaved) {
          // For IE and Firefox
          if (e) {
            e.returnValue = "You have unsaved changes. Please hit the save button before you leave!";
          }
          // For Safari
          return "You have unsaved changes. Please hit the save button before you leave!";
        }
      };

      function getStatus() {
        $.ajax({
          url: "getStatus.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent("getStatus"),
          success: function (response) {
            console.log("getStatus success");
            console.log(response);
            $("#statusDiv").text(response);
          },
          error: function (xhr) {
            console.log("getStatus error");
          },
        });
      }

      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";

        if (tabName === "statusTab") {
          getStatus();
          statusTimer = setInterval(getStatus, 3000);
        } else {
          clearInterval(statusTimer);
        }

        if (tabName === "settingsTab") {
        }
      }
      // Get the element with id="defaultOpen" and click on it
      document.getElementById("defaultOpen").click();

      $(".validateInput").on("keyup", function (e) {
        var val = $(this).val();
        if (val.match(/[^0-9,.;*]/g)) {
          $(this).val(val.replace(/[^0-9,.;*]/g, ""));
        }
      });

      $("#txt_value").on("keyup", function (e) {
        var val = $(this).val();
        if (val.match(/[^0-9.]/g)) {
          $(this).val(val.replace(/[^0-9.]/g, ""));
        }
      });

      var table = $("#contentTable").DataTable({
        ordering: false,
        paging: false,
        searching: false,
        info: false,
        scrollX: true,
        scrollY: "400px",
        scrollCollapse: true,
        columns: [
          {
            title: "minute",
          },
          {
            title: "hour",
          },
          {
            title: "dayOfMonth",
          },
          {
            title: "month",
          },
          {
            title: "dayOfWeek",
          },
          {
            title: "channel",
          },
          {
            title: "function",
          },
          {
            title: "value",
          },
        ],
      });

      $(document).ready(function () {
        $.ajax({
          type: "GET",
          url: "timer.txt",
          dataType: "text",
          success: function (data) {
            processData(data);
          },
        });
        function processData(allText) {
          var allTextLines = allText.split(/\r\n|\n/);
          for (let i = 0; i < allTextLines.length - 1; i++) {
            if (!(allTextLines[i].trim() === "")) {
              table.row.add(allTextLines[i].split(";")).draw(false);
            }
          }
          table.draw();
        }
      });

      $("#deleteRow").click(function () {
        isUnsaved = true;
        $("#saveData").css("background", "green");
        table.row(".selected").remove().draw(false);
      });

      $("#addRow").on("click", function () {
        isUnsaved = true;
        $("#saveData").css("background", "green");
        table.row.add([$("#txt_minute").val(), $("#txt_hour").val(), $("#txt_dayOfMonth").val(), $("#txt_month").val(), $("#txt_dayOfWeek").val(), $("#selChannel").val(), $("#selFunction").val(), $("#txt_value").val()]).draw(false);
      });

      $("#saveData").on("click", function () {
        console.log("Deleteing Timer File");
        $.ajax({
          url: "save.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent("deleteTimerFile"),
          success: function (response) {
            console.log("deleteTimerFile success");
          },
          error: function (xhr) {
            console.log("deleteTimerFile error");
          },
        });

        console.log("Save new Timer File");
        for (let i = 0; i < $("#contentTable").DataTable().data().length; i++) {
          console.log("Timer " + i + "/" + $("#contentTable").DataTable().data().length - 1);

          var csv = "";
          for (let j = 0; j < $("#contentTable").DataTable().data()[i].length; j++) {
            csv += $("#contentTable").DataTable().data()[i][j] + ";";
          }
          csv += "\n";
          console.log(csv);

          $.ajax({
            url: "save.html",
            type: "get", //send it through get method
            async: false,
            data: "data=" + encodeURIComponent(csv),
            success: function (response) {
              console.log("Save success");
            },
            error: function (xhr) {
              console.log("Save error");
            },
          });
        }

        $.ajax({
          url: "save.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent("FileEnd"),
          success: function (response) {
            console.log("FileEnd success");
          },
          error: function (xhr) {
            console.log("FileEnd error");
          },
        });
        isUnsaved = false;
        location.reload();
      });

      $("#contentTable tbody").on("click", "tr", function () {
        if ($(this).hasClass("selected")) {
          $(this).removeClass("selected");
        } else {
          table.$("tr.selected").removeClass("selected");
          $(this).addClass("selected");
        }
      });
    </script>
  </body>
</html>
