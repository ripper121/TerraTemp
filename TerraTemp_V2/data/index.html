<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <link href="./css/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="./js/jquery-3.6.0.min.js"></script>
    <script src="./js/jquery.dataTables.min.js"></script>
    <style>
      .overlay {
        display: none;
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 999;
        background: rgba(255, 255, 255, 0.8) center no-repeat;
      }
      body {
        font-family: Arial;
      }
      body.loading {
        overflow: hidden;
      }
      body.loading .overlay {
        display: block;
      }

      /* Style the tab */
      .tab {
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
      }

      /* Style the buttons inside the tab */
      .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
      }

      /* Change background color of buttons on hover */
      .tab button:hover {
        background-color: #ddd;
      }

      /* Create an active/current tablink class */
      .tab button.active {
        background-color: #ccc;
      }

      /* Style the tab content */
      .tabcontent {
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
      }

      label {
        width: 180px;
        display: inline-block;
      }

      .container {
        width: 99%;
        overflow-x: auto;
        white-space: nowrap;
      }

      th {
        border-top: 1px solid #dddddd;
        border-bottom: 1px solid #dddddd;
        border-right: 1px solid #dddddd;
      }

      th:first-child {
        border-left: 1px solid #dddddd;
      }
    </style>
  </head>

  <body>
    <div class="overlay">Saving please wait...</div>

    <div class="tab">
      <button class="tablinks" onclick="openTab(event, 'timerTab')" id="defaultOpen">Timer</button>
      <button class="tablinks" onclick="openTab(event, 'statusTab')">Status</button>
      <button class="tablinks" onclick="openTab(event, 'settingsTab')">Settings</button>
    </div>

    <div id="timerTab" class="tabcontent">
      <table id="contentTable" class="display cell-border row-border" width="100%"></table>
      <br />
      <button id="deleteRow">Delete</button><br />
      <hr />
      <div class="container">
        <table id="editor" class="dataTable">
          <tr>
            <td><input type="text" class="validateInput" id="txt_minute" placeholder="minute" /></td>
            <td><input type="text" class="validateInput" id="txt_hour" placeholder="hour" /></td>
            <td><input type="text" class="validateInput" id="txt_dayOfMonth" placeholder="dayOfMonth" /></td>
            <td><input type="text" class="validateInput" id="txt_month" placeholder="month" /></td>
            <td><input type="text" class="validateInput" id="txt_dayOfWeek" placeholder="dayOfWeek" /></td>
            <td>
              <select name="selChannel" id="selChannel">
                <option value="Internal">Internal</option>
                <option value="External0">External 0</option>
                <option value="External1">External 1</option>
                <option value="External2">External 2</option>
                <option value="External3">External 3</option>
              </select>
            </td>
            <td>
              <select name="selFunction" id="selFunction">
                <option value="Switch">Switch</option>
                <option value="Temperature">Temperature</option>
                <option value="Humidity">Humidity</option>
              </select>
            </td>
            <td><input type="text" id="txt_value" placeholder="value" /></td>
            <td><button id="addRow">Add</button></td>
          </tr>
        </table>
      </div>
      <hr />
      <button id="saveTimer">Save</button>
    </div>

    <div id="statusTab" class="tabcontent">
      <textarea name="message" id="statusDiv" rows="10" style="width: 100%;" readonly>Loading...</textarea>
    </div>

    <div id="settingsTab" class="tabcontent">
      <fieldset>
        <legend>Wifi Settings:</legend>
        <label for="fSSID">SSID:</label>
        <input type="text" id="fSSID" name="fSSID" /><br />
        <br />
        <label for="fPSK">PSK:</label>
        <input type="password" id="fPSK" name="fPSK" /><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>Time Settings:</legend>
        <label for="fNTPServer">NTP-Server:</label>
        <input type="text" id="fNTPServer" name="fNTPServer" /><br />
        <br />
        <label for="fTimeZone">Time Zone:</label>
        <select name="fTimeZone" id="fTimeZone">
          <option value="GMT0">Africa_Abidjan</option>
          <option value="GMT0">Africa_Accra</option>
          <option value="EAT-3">Africa_Addis_Ababa</option>
          <option value="CET-1">Africa_Algiers</option>
          <option value="EAT-3">Africa_Asmara</option>
          <option value="GMT0">Africa_Bamako</option>
          <option value="WAT-1">Africa_Bangui</option>
          <option value="GMT0">Africa_Banjul</option>
          <option value="GMT0">Africa_Bissau</option>
          <option value="CAT-2">Africa_Blantyre</option>
          <option value="WAT-1">Africa_Brazzaville</option>
          <option value="CAT-2">Africa_Bujumbura</option>
          <option value="EET-2">Africa_Cairo</option>
          <option value="<+01>-1">Africa_Casablanca</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Africa_Ceuta</option>
          <option value="GMT0">Africa_Conakry</option>
          <option value="GMT0">Africa_Dakar</option>
          <option value="EAT-3">Africa_Dar_es_Salaam</option>
          <option value="EAT-3">Africa_Djibouti</option>
          <option value="WAT-1">Africa_Douala</option>
          <option value="<+01>-1">Africa_El_Aaiun</option>
          <option value="GMT0">Africa_Freetown</option>
          <option value="CAT-2">Africa_Gaborone</option>
          <option value="CAT-2">Africa_Harare</option>
          <option value="SAST-2">Africa_Johannesburg</option>
          <option value="EAT-3">Africa_Juba</option>
          <option value="EAT-3">Africa_Kampala</option>
          <option value="CAT-2">Africa_Khartoum</option>
          <option value="CAT-2">Africa_Kigali</option>
          <option value="WAT-1">Africa_Kinshasa</option>
          <option value="WAT-1">Africa_Lagos</option>
          <option value="WAT-1">Africa_Libreville</option>
          <option value="GMT0">Africa_Lome</option>
          <option value="WAT-1">Africa_Luanda</option>
          <option value="CAT-2">Africa_Lubumbashi</option>
          <option value="CAT-2">Africa_Lusaka</option>
          <option value="WAT-1">Africa_Malabo</option>
          <option value="CAT-2">Africa_Maputo</option>
          <option value="SAST-2">Africa_Maseru</option>
          <option value="SAST-2">Africa_Mbabane</option>
          <option value="EAT-3">Africa_Mogadishu</option>
          <option value="GMT0">Africa_Monrovia</option>
          <option value="EAT-3">Africa_Nairobi</option>
          <option value="WAT-1">Africa_Ndjamena</option>
          <option value="WAT-1">Africa_Niamey</option>
          <option value="GMT0">Africa_Nouakchott</option>
          <option value="GMT0">Africa_Ouagadougou</option>
          <option value="WAT-1">Africa_PortomNovo</option>
          <option value="GMT0">Africa_Sao_Tome</option>
          <option value="EET-2">Africa_Tripoli</option>
          <option value="CET-1">Africa_Tunis</option>
          <option value="CAT-2">Africa_Windhoek</option>
          <option value="HST10HDT,M3.2.0,M11.1.0">America_Adak</option>
          <option value="AKST9AKDT,M3.2.0,M11.1.0">America_Anchorage</option>
          <option value="AST4">America_Anguilla</option>
          <option value="AST4">America_Antigua</option>
          <option value="<-03>3">America_Araguaina</option>
          <option value="<-03>3">America_Argentina_Buenos_Aires</option>
          <option value="<-03>3">America_Argentina_Catamarca</option>
          <option value="<-03>3">America_Argentina_Cordoba</option>
          <option value="<-03>3">America_Argentina_Jujuy</option>
          <option value="<-03>3">America_Argentina_La_Rioja</option>
          <option value="<-03>3">America_Argentina_Mendoza</option>
          <option value="<-03>3">America_Argentina_Rio_Gallegos</option>
          <option value="<-03>3">America_Argentina_Salta</option>
          <option value="<-03>3">America_Argentina_San_Juan</option>
          <option value="<-03>3">America_Argentina_San_Luis</option>
          <option value="<-03>3">America_Argentina_Tucuman</option>
          <option value="<-03>3">America_Argentina_Ushuaia</option>
          <option value="AST4">America_Aruba</option>
          <option value="<-04>4<-03>,M10.1.0/0,M3.4.0/0">America_Asuncion</option>
          <option value="EST5">America_Atikokan</option>
          <option value="<-03>3">America_Bahia</option>
          <option value="CST6CDT,M4.1.0,M10.5.0">America_Bahia_Banderas</option>
          <option value="AST4">America_Barbados</option>
          <option value="<-03>3">America_Belem</option>
          <option value="CST6">America_Belize</option>
          <option value="AST4">America_BlancmSablon</option>
          <option value="<-04>4">America_Boa_Vista</option>
          <option value="<-05>5">America_Bogota</option>
          <option value="MST7MDT,M3.2.0,M11.1.0">America_Boise</option>
          <option value="MST7MDT,M3.2.0,M11.1.0">America_Cambridge_Bay</option>
          <option value="<-04>4">America_Campo_Grande</option>
          <option value="EST5">America_Cancun</option>
          <option value="<-04>4">America_Caracas</option>
          <option value="<-03>3">America_Cayenne</option>
          <option value="EST5">America_Cayman</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Chicago</option>
          <option value="MST7MDT,M4.1.0,M10.5.0">America_Chihuahua</option>
          <option value="CST6">America_Costa_Rica</option>
          <option value="MST7">America_Creston</option>
          <option value="<-04>4">America_Cuiaba</option>
          <option value="AST4">America_Curacao</option>
          <option value="GMT0">America_Danmarkshavn</option>
          <option value="MST7">America_Dawson</option>
          <option value="MST7">America_Dawson_Creek</option>
          <option value="MST7MDT,M3.2.0,M11.1.0">America_Denver</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Detroit</option>
          <option value="AST4">America_Dominica</option>
          <option value="MST7MDT,M3.2.0,M11.1.0">America_Edmonton</option>
          <option value="<-05>5">America_Eirunepe</option>
          <option value="CST6">America_El_Salvador</option>
          <option value="<-03>3">America_Fortaleza</option>
          <option value="MST7">America_Fort_Nelson</option>
          <option value="AST4ADT,M3.2.0,M11.1.0">America_Glace_Bay</option>
          <option value="<-03>3<-02>,M3.5.0/-2,M10.5.0/-1">America_Godthab</option>
          <option value="AST4ADT,M3.2.0,M11.1.0">America_Goose_Bay</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Grand_Turk</option>
          <option value="AST4">America_Grenada</option>
          <option value="AST4">America_Guadeloupe</option>
          <option value="CST6">America_Guatemala</option>
          <option value="<-05>5">America_Guayaquil</option>
          <option value="<-04>4">America_Guyana</option>
          <option value="AST4ADT,M3.2.0,M11.1.0">America_Halifax</option>
          <option value="CST5CDT,M3.2.0/0,M11.1.0/1">America_Havana</option>
          <option value="MST7">America_Hermosillo</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Indiana_Indianapolis</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Indiana_Knox</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Indiana_Marengo</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Indiana_Petersburg</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Indiana_Tell_City</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Indiana_Vevay</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Indiana_Vincennes</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Indiana_Winamac</option>
          <option value="MST7MDT,M3.2.0,M11.1.0">America_Inuvik</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Iqaluit</option>
          <option value="EST5">America_Jamaica</option>
          <option value="AKST9AKDT,M3.2.0,M11.1.0">America_Juneau</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Kentucky_Louisville</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Kentucky_Monticello</option>
          <option value="AST4">America_Kralendijk</option>
          <option value="<-04>4">America_La_Paz</option>
          <option value="<-05>5">America_Lima</option>
          <option value="PST8PDT,M3.2.0,M11.1.0">America_Los_Angeles</option>
          <option value="AST4">America_Lower_Princes</option>
          <option value="<-03>3">America_Maceio</option>
          <option value="CST6">America_Managua</option>
          <option value="<-04>4">America_Manaus</option>
          <option value="AST4">America_Marigot</option>
          <option value="AST4">America_Martinique</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Matamoros</option>
          <option value="MST7MDT,M4.1.0,M10.5.0">America_Mazatlan</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Menominee</option>
          <option value="CST6CDT,M4.1.0,M10.5.0">America_Merida</option>
          <option value="AKST9AKDT,M3.2.0,M11.1.0">America_Metlakatla</option>
          <option value="CST6CDT,M4.1.0,M10.5.0">America_Mexico_City</option>
          <option value="<-03>3<-02>,M3.2.0,M11.1.0">America_Miquelon</option>
          <option value="AST4ADT,M3.2.0,M11.1.0">America_Moncton</option>
          <option value="CST6CDT,M4.1.0,M10.5.0">America_Monterrey</option>
          <option value="<-03>3">America_Montevideo</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Montreal</option>
          <option value="AST4">America_Montserrat</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Nassau</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_New_York</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Nipigon</option>
          <option value="AKST9AKDT,M3.2.0,M11.1.0">America_Nome</option>
          <option value="<-02>2">America_Noronha</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_North_Dakota_Beulah</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_North_Dakota_Center</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_North_Dakota_New_Salem</option>
          <option value="MST7MDT,M3.2.0,M11.1.0">America_Ojinaga</option>
          <option value="EST5">America_Panama</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Pangnirtung</option>
          <option value="<-03>3">America_Paramaribo</option>
          <option value="MST7">America_Phoenix</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_PortmaumPrince</option>
          <option value="AST4">America_Port_of_Spain</option>
          <option value="<-04>4">America_Porto_Velho</option>
          <option value="AST4">America_Puerto_Rico</option>
          <option value="<-03>3">America_Punta_Arenas</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Rainy_River</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Rankin_Inlet</option>
          <option value="<-03>3">America_Recife</option>
          <option value="CST6">America_Regina</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Resolute</option>
          <option value="<-05>5">America_Rio_Branco</option>
          <option value="<-03>3">America_Santarem</option>
          <option value="<-04>4<-03>,M9.1.6/24,M4.1.6/24">America_Santiago</option>
          <option value="AST4">America_Santo_Domingo</option>
          <option value="<-03>3">America_Sao_Paulo</option>
          <option value="<-01>1<+00>,M3.5.0/0,M10.5.0/1">America_Scoresbysund</option>
          <option value="AKST9AKDT,M3.2.0,M11.1.0">America_Sitka</option>
          <option value="AST4">America_St_Barthelemy</option>
          <option value="NST3:30NDT,M3.2.0,M11.1.0">America_St_Johns</option>
          <option value="AST4">America_St_Kitts</option>
          <option value="AST4">America_St_Lucia</option>
          <option value="AST4">America_St_Thomas</option>
          <option value="AST4">America_St_Vincent</option>
          <option value="CST6">America_Swift_Current</option>
          <option value="CST6">America_Tegucigalpa</option>
          <option value="AST4ADT,M3.2.0,M11.1.0">America_Thule</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Thunder_Bay</option>
          <option value="PST8PDT,M3.2.0,M11.1.0">America_Tijuana</option>
          <option value="EST5EDT,M3.2.0,M11.1.0">America_Toronto</option>
          <option value="AST4">America_Tortola</option>
          <option value="PST8PDT,M3.2.0,M11.1.0">America_Vancouver</option>
          <option value="MST7">America_Whitehorse</option>
          <option value="CST6CDT,M3.2.0,M11.1.0">America_Winnipeg</option>
          <option value="AKST9AKDT,M3.2.0,M11.1.0">America_Yakutat</option>
          <option value="MST7MDT,M3.2.0,M11.1.0">America_Yellowknife</option>
          <option value="<+11>-11">Antarctica_Casey</option>
          <option value="<+07>-7">Antarctica_Davis</option>
          <option value="<+10>-10">Antarctica_DumontDUrville</option>
          <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Antarctica_Macquarie</option>
          <option value="<+05>-5">Antarctica_Mawson</option>
          <option value="NZST-12NZDT,M9.5.0,M4.1.0/3">Antarctica_McMurdo</option>
          <option value="<-03>3">Antarctica_Palmer</option>
          <option value="<-03>3">Antarctica_Rothera</option>
          <option value="<+03>-3">Antarctica_Syowa</option>
          <option value="<+00>0<+02>-2,M3.5.0/1,M10.5.0/3">Antarctica_Troll</option>
          <option value="<+06>-6">Antarctica_Vostok</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Arctic_Longyearbyen</option>
          <option value="<+03>-3">Asia_Aden</option>
          <option value="<+06>-6">Asia_Almaty</option>
          <option value="EET-2EEST,M3.5.4/24,M10.5.5/1">Asia_Amman</option>
          <option value="<+12>-12">Asia_Anadyr</option>
          <option value="<+05>-5">Asia_Aqtau</option>
          <option value="<+05>-5">Asia_Aqtobe</option>
          <option value="<+05>-5">Asia_Ashgabat</option>
          <option value="<+05>-5">Asia_Atyrau</option>
          <option value="<+03>-3">Asia_Baghdad</option>
          <option value="<+03>-3">Asia_Bahrain</option>
          <option value="<+04>-4">Asia_Baku</option>
          <option value="<+07>-7">Asia_Bangkok</option>
          <option value="<+07>-7">Asia_Barnaul</option>
          <option value="EET-2EEST,M3.5.0/0,M10.5.0/0">Asia_Beirut</option>
          <option value="<+06>-6">Asia_Bishkek</option>
          <option value="<+08>-8">Asia_Brunei</option>
          <option value="<+09>-9">Asia_Chita</option>
          <option value="<+08>-8">Asia_Choibalsan</option>
          <option value="<+0530>-5:30">Asia_Colombo</option>
          <option value="EET-2EEST,M3.5.5/0,M10.5.5/0">Asia_Damascus</option>
          <option value="<+06>-6">Asia_Dhaka</option>
          <option value="<+09>-9">Asia_Dili</option>
          <option value="<+04>-4">Asia_Dubai</option>
          <option value="<+05>-5">Asia_Dushanbe</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Asia_Famagusta</option>
          <option value="EET-2EEST,M3.4.4/48,M10.4.4/49">Asia_Gaza</option>
          <option value="EET-2EEST,M3.4.4/48,M10.4.4/49">Asia_Hebron</option>
          <option value="<+07>-7">Asia_Ho_Chi_Minh</option>
          <option value="HKT-8">Asia_Hong_Kong</option>
          <option value="<+07>-7">Asia_Hovd</option>
          <option value="<+08>-8">Asia_Irkutsk</option>
          <option value="WIB-7">Asia_Jakarta</option>
          <option value="WIT-9">Asia_Jayapura</option>
          <option value="IST-2IDT,M3.4.4/26,M10.5.0">Asia_Jerusalem</option>
          <option value="<+0430>-4:30">Asia_Kabul</option>
          <option value="<+12>-12">Asia_Kamchatka</option>
          <option value="PKT-5">Asia_Karachi</option>
          <option value="<+0545>-5:45">Asia_Kathmandu</option>
          <option value="<+09>-9">Asia_Khandyga</option>
          <option value="IST-5:30">Asia_Kolkata</option>
          <option value="<+07>-7">Asia_Krasnoyarsk</option>
          <option value="<+08>-8">Asia_Kuala_Lumpur</option>
          <option value="<+08>-8">Asia_Kuching</option>
          <option value="<+03>-3">Asia_Kuwait</option>
          <option value="CST-8">Asia_Macau</option>
          <option value="<+11>-11">Asia_Magadan</option>
          <option value="WITA-8">Asia_Makassar</option>
          <option value="PST-8">Asia_Manila</option>
          <option value="<+04>-4">Asia_Muscat</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Asia_Nicosia</option>
          <option value="<+07>-7">Asia_Novokuznetsk</option>
          <option value="<+07>-7">Asia_Novosibirsk</option>
          <option value="<+06>-6">Asia_Omsk</option>
          <option value="<+05>-5">Asia_Oral</option>
          <option value="<+07>-7">Asia_Phnom_Penh</option>
          <option value="WIB-7">Asia_Pontianak</option>
          <option value="KST-9">Asia_Pyongyang</option>
          <option value="<+03>-3">Asia_Qatar</option>
          <option value="<+05>-5">Asia_Qyzylorda</option>
          <option value="<+03>-3">Asia_Riyadh</option>
          <option value="<+11>-11">Asia_Sakhalin</option>
          <option value="<+05>-5">Asia_Samarkand</option>
          <option value="KST-9">Asia_Seoul</option>
          <option value="CST-8">Asia_Shanghai</option>
          <option value="<+08>-8">Asia_Singapore</option>
          <option value="<+11>-11">Asia_Srednekolymsk</option>
          <option value="CST-8">Asia_Taipei</option>
          <option value="<+05>-5">Asia_Tashkent</option>
          <option value="<+04>-4">Asia_Tbilisi</option>
          <option value="<+0330>-3:30<+0430>,J79/24,J263/24">Asia_Tehran</option>
          <option value="<+06>-6">Asia_Thimphu</option>
          <option value="JST-9">Asia_Tokyo</option>
          <option value="<+07>-7">Asia_Tomsk</option>
          <option value="<+08>-8">Asia_Ulaanbaatar</option>
          <option value="<+06>-6">Asia_Urumqi</option>
          <option value="<+10>-10">Asia_UstmNera</option>
          <option value="<+07>-7">Asia_Vientiane</option>
          <option value="<+10>-10">Asia_Vladivostok</option>
          <option value="<+09>-9">Asia_Yakutsk</option>
          <option value="<+0630>-6:30">Asia_Yangon</option>
          <option value="<+05>-5">Asia_Yekaterinburg</option>
          <option value="<+04>-4">Asia_Yerevan</option>
          <option value="<-01>1<+00>,M3.5.0/0,M10.5.0/1">Atlantic_Azores</option>
          <option value="AST4ADT,M3.2.0,M11.1.0">Atlantic_Bermuda</option>
          <option value="WET0WEST,M3.5.0/1,M10.5.0">Atlantic_Canary</option>
          <option value="<-01>1">Atlantic_Cape_Verde</option>
          <option value="WET0WEST,M3.5.0/1,M10.5.0">Atlantic_Faroe</option>
          <option value="WET0WEST,M3.5.0/1,M10.5.0">Atlantic_Madeira</option>
          <option value="GMT0">Atlantic_Reykjavik</option>
          <option value="<-02>2">Atlantic_South_Georgia</option>
          <option value="<-03>3">Atlantic_Stanley</option>
          <option value="GMT0">Atlantic_St_Helena</option>
          <option value="ACST-9:30ACDT,M10.1.0,M4.1.0/3">Australia_Adelaide</option>
          <option value="AEST-10">Australia_Brisbane</option>
          <option value="ACST-9:30ACDT,M10.1.0,M4.1.0/3">Australia_Broken_Hill</option>
          <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia_Currie</option>
          <option value="ACST-9:30">Australia_Darwin</option>
          <option value="<+0845>-8:45">Australia_Eucla</option>
          <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia_Hobart</option>
          <option value="AEST-10">Australia_Lindeman</option>
          <option value="<+1030>-10:30<+11>-11,M10.1.0,M4.1.0">Australia_Lord_Howe</option>
          <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia_Melbourne</option>
          <option value="AWST-8">Australia_Perth</option>
          <option value="AEST-10AEDT,M10.1.0,M4.1.0/3">Australia_Sydney</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Amsterdam</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Andorra</option>
          <option value="<+04>-4">Europe_Astrakhan</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Athens</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Belgrade</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Berlin</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Bratislava</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Brussels</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Bucharest</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Budapest</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Busingen</option>
          <option value="EET-2EEST,M3.5.0,M10.5.0/3">Europe_Chisinau</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Copenhagen</option>
          <option value="IST-1GMT0,M10.5.0,M3.5.0/1">Europe_Dublin</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Gibraltar</option>
          <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe_Guernsey</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Helsinki</option>
          <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe_Isle_of_Man</option>
          <option value="<+03>-3">Europe_Istanbul</option>
          <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe_Jersey</option>
          <option value="EET-2">Europe_Kaliningrad</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Kiev</option>
          <option value="<+03>-3">Europe_Kirov</option>
          <option value="WET0WEST,M3.5.0/1,M10.5.0">Europe_Lisbon</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Ljubljana</option>
          <option value="GMT0BST,M3.5.0/1,M10.5.0">Europe_London</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Luxembourg</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Madrid</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Malta</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Mariehamn</option>
          <option value="<+03>-3">Europe_Minsk</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Monaco</option>
          <option value="MSK-3">Europe_Moscow</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Oslo</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Paris</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Podgorica</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Prague</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Riga</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Rome</option>
          <option value="<+04>-4">Europe_Samara</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_San_Marino</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Sarajevo</option>
          <option value="<+04>-4">Europe_Saratov</option>
          <option value="MSK-3">Europe_Simferopol</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Skopje</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Sofia</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Stockholm</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Tallinn</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Tirane</option>
          <option value="<+04>-4">Europe_Ulyanovsk</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Uzhgorod</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Vaduz</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Vatican</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Vienna</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Vilnius</option>
          <option value="<+04>-4">Europe_Volgograd</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Warsaw</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Zagreb</option>
          <option value="EET-2EEST,M3.5.0/3,M10.5.0/4">Europe_Zaporozhye</option>
          <option value="CET-1CEST,M3.5.0,M10.5.0/3">Europe_Zurich</option>
          <option value="EAT-3">Indian_Antananarivo</option>
          <option value="<+06>-6">Indian_Chagos</option>
          <option value="<+07>-7">Indian_Christmas</option>
          <option value="<+0630>-6:30">Indian_Cocos</option>
          <option value="EAT-3">Indian_Comoro</option>
          <option value="<+05>-5">Indian_Kerguelen</option>
          <option value="<+04>-4">Indian_Mahe</option>
          <option value="<+05>-5">Indian_Maldives</option>
          <option value="<+04>-4">Indian_Mauritius</option>
          <option value="EAT-3">Indian_Mayotte</option>
          <option value="<+04>-4">Indian_Reunion</option>
          <option value="<+13>-13<+14>,M9.5.0/3,M4.1.0/4">Pacific_Apia</option>
          <option value="NZST-12NZDT,M9.5.0,M4.1.0/3">Pacific_Auckland</option>
          <option value="<+11>-11">Pacific_Bougainville</option>
          <option value="<+1245>-12:45<+1345>,M9.5.0/2:45,M4.1.0/3:45">Pacific_Chatham</option>
          <option value="<+10>-10">Pacific_Chuuk</option>
          <option value="<-06>6<-05>,M9.1.6/22,M4.1.6/22">Pacific_Easter</option>
          <option value="<+11>-11">Pacific_Efate</option>
          <option value="<+13>-13">Pacific_Enderbury</option>
          <option value="<+13>-13">Pacific_Fakaofo</option>
          <option value="<+12>-12<+13>,M11.2.0,M1.2.3/99">Pacific_Fiji</option>
          <option value="<+12>-12">Pacific_Funafuti</option>
          <option value="<-06>6">Pacific_Galapagos</option>
          <option value="<-09>9">Pacific_Gambier</option>
          <option value="<+11>-11">Pacific_Guadalcanal</option>
          <option value="ChST-10">Pacific_Guam</option>
          <option value="HST10">Pacific_Honolulu</option>
          <option value="<+14>-14">Pacific_Kiritimati</option>
          <option value="<+11>-11">Pacific_Kosrae</option>
          <option value="<+12>-12">Pacific_Kwajalein</option>
          <option value="<+12>-12">Pacific_Majuro</option>
          <option value="<-0930>9:30">Pacific_Marquesas</option>
          <option value="SST11">Pacific_Midway</option>
          <option value="<+12>-12">Pacific_Nauru</option>
          <option value="<-11>11">Pacific_Niue</option>
          <option value="<+11>-11<+12>,M10.1.0,M4.1.0/3">Pacific_Norfolk</option>
          <option value="<+11>-11">Pacific_Noumea</option>
          <option value="SST11">Pacific_Pago_Pago</option>
          <option value="<+09>-9">Pacific_Palau</option>
          <option value="<-08>8">Pacific_Pitcairn</option>
          <option value="<+11>-11">Pacific_Pohnpei</option>
          <option value="<+10>-10">Pacific_Port_Moresby</option>
          <option value="<-10>10">Pacific_Rarotonga</option>
          <option value="ChST-10">Pacific_Saipan</option>
          <option value="<-10>10">Pacific_Tahiti</option>
          <option value="<+12>-12">Pacific_Tarawa</option>
          <option value="<+13>-13">Pacific_Tongatapu</option>
          <option value="<+12>-12">Pacific_Wake</option>
          <option value="<+12>-12">Pacific_Wallis</option>
          <option value="GMT0">Etc_GMT</option>
          <option value="GMT0">Etc_GMTm0</option>
          <option value="<+01>-1">Etc_GMTm1</option>
          <option value="<+02>-2">Etc_GMTm2</option>
          <option value="<+03>-3">Etc_GMTm3</option>
          <option value="<+04>-4">Etc_GMTm4</option>
          <option value="<+05>-5">Etc_GMTm5</option>
          <option value="<+06>-6">Etc_GMTm6</option>
          <option value="<+07>-7">Etc_GMTm7</option>
          <option value="<+08>-8">Etc_GMTm8</option>
          <option value="<+09>-9">Etc_GMTm9</option>
          <option value="<+10>-10">Etc_GMTm10</option>
          <option value="<+11>-11">Etc_GMTm11</option>
          <option value="<+12>-12">Etc_GMTm12</option>
          <option value="<+13>-13">Etc_GMTm13</option>
          <option value="<+14>-14">Etc_GMTm14</option>
          <option value="GMT0">Etc_GMT0</option>
          <option value="GMT0">Etc_GMTp0</option>
          <option value="<-01>1">Etc_GMTp1</option>
          <option value="<-02>2">Etc_GMTp2</option>
          <option value="<-03>3">Etc_GMTp3</option>
          <option value="<-04>4">Etc_GMTp4</option>
          <option value="<-05>5">Etc_GMTp5</option>
          <option value="<-06>6">Etc_GMTp6</option>
          <option value="<-07>7">Etc_GMTp7</option>
          <option value="<-08>8">Etc_GMTp8</option>
          <option value="<-09>9">Etc_GMTp9</option>
          <option value="<-10>10">Etc_GMTp10</option>
          <option value="<-11>11">Etc_GMTp11</option>
          <option value="<-12>12">Etc_GMTp12</option>
          <option value="UTC0">Etc_UCT</option>
          <option value="UTC0">Etc_UTC</option>
          <option value="GMT0">Etc_Greenwich</option>
          <option value="UTC0">Etc_Universal</option>
          <option value="UTC0">Etc_Zulu</option>
        </select>
        <br />
        <br />
      </fieldset>

      <fieldset>
        <legend>Sensor Settings:</legend>
        <label for="fHysteresisTemperature">Hysteresis Temperature:</label>
        <input type="text" id="fHysteresisTemperature" name="fHysteresisTemperature" /><br />
        <br />
        <label for="fHysteresisHumidity">Hysteresis Humidity:</label>
        <input type="text" id="fHysteresisHumidity" name="fHysteresisHumidity" /><br />
        <br />
        <label for="fTemperatureOffset">Temperature Offset:</label>
        <input type="text" id="fTemperatureOffset" name="fTemperatureOffset" /><br />
        <br />
        <label for="fHumidityOffset">Humidity Offset:</label>
        <input type="text" id="fHumidityOffset" name="fHumidityOffset" /><br />
        <br />
        <label>Invert Internal Output:</label>
        <input type="checkbox" id="fInvertInternalOutput" name="fInvertInternalOutput" />
        <label for="fOutputonSensorFail">Invert</label><br />
        <br />
        <label>Output on Sensor Fail:</label>
        <input type="checkbox" id="fOutputonSensorFail" name="fOutputonSensorFail" value="On" />
        <label for="fOutputonSensorFail">On</label><br />
        <br />
        <label>Output on Time Fail:</label>
        <input type="checkbox" id="fOutputonTimeFail" name="fOutputonTimeFail" value="On" />
        <label for="fOutputonTimeFail">On</label><br />
        <br />
        <label>Output on Internet Fail:</label>
        <input type="checkbox" id="fOutputonInternetFail" name="fOutputonInternetFail" value="On" />
        <label for="fOutputonInternetFail">On</label><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>Sensor Logging:</legend>
        <label for="fLogInterval">Log Interval:</label>
        <input type="text" id="fLogInterval" name="fLogInterval" /><br />
        <br />
        <label for="fLogHttpLink">Log Http Link:</label>
        <input type="text" id="fLogHttpLink" name="fLogHttpLink" /><br />
        <br />
        <label for="fThingspeakLink">Thingspeak Link:</label>
        <input type="text" id="fThingspeakLink" name="fThingspeakLink" /><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>ext. Channel Settings:</legend>
        <label for="fChannel_1Link">Channel1 http-link:</label>
        <input type="text" id="fChannel_1Link" name="fChannel_1Link" /><br />
        <br />
        <label for="fChannel_2Link">Channel2 http-link:</label>
        <input type="text" id="fChannel_2Link" name="fChannel_2Link" /><br />
        <br />
        <label for="fChannel_3Link">Channel3 http-link:</label>
        <input type="text" id="fChannel_3Link" name="fChannel_3Link" /><br />
        <br />
        <label for="fChannel_4Link">Channel4 http-link:</label>
        <input type="text" id="fChannel_4Link" name="fChannel_4Link" /><br />
        <br />
      </fieldset>

      <fieldset>
        <legend>System Settings:</legend>
        <label for="fFWUpdate">Firmware Update:</label>
        <input type="button" id="fFWUpdate" name="fFWUpdate" value="Upload" /><br />
        <br />
        <label for="fLanguageFile">Language File:</label>
        <input type="button" id="fLanguageFile" name="fLanguageFile" value="Upload" /><br />
        <br />
        <label for="fLicenceFile">Licence File:</label>
        <input type="button" id="fLicenceFile" name="fLicenceFile" value="Upload" /><br />
        <br />
        <label for="ftimerBackupFile">Timer Backup:</label>
        <input type="button" id="ftimerBackupFile" name="ftimerBackupFile" value="Download" /><br />
        <br />
        <label for="ftimerRestoreFile">Timer Restore:</label>
        <input type="button" id="ftimerRestoreFile" name="ftimerRestoreFile" value="Upload" /><br />
        <br />
        <label for="fsettingsBackupFile">Settings Backup:</label>
        <input type="button" id="fsettingsBackupFile" name="fsettingsBackupFile" value="Download" /><br />
        <br />
        <label for="fsettingsRestoreFile">Settings Restore:</label>
        <input type="button" id="fsettingsRestoreFile" name="fsettingsRestoreFile" value="Upload" /><br />
        <br />
      </fieldset>

      <br />
      <input type="button" id="saveSettings" value="Save" />
    </div>

    <script>
      var isUnsaved = false;
      var statusTimer;

      window.onbeforeunload = function (e) {
        e = e || window.event;
        if (isUnsaved) {
          // For IE and Firefox
          if (e) {
            e.returnValue = "You have unsaved changes. Please hit the save button before you leave!";
          }
          // For Safari
          return "You have unsaved changes. Please hit the save button before you leave!";
        }
      };

      function getStatus() {
        $.ajax({
          url: "getStatus.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent("getStatus"),
          success: function (response) {
            console.log("getStatus success");
            console.log(response);
            $("#statusDiv").text(response);
          },
          error: function (xhr) {
            console.log("getStatus error");
          },
        });
      }

      function processSettingsData(allText) {
        var allTextLines = allText.split(/\r\n|\n/);
        for (let i = 0; i < allTextLines.length - 1; i++) {
          if (!(allTextLines[i].trim() === "")) {
            console.log(allTextLines[i]);
            if (i === 0) $("#fSSID").val(allTextLines[i]);
            if (i === 1) $("#fPSK").val(allTextLines[i]);
            if (i === 2) $("#fNTPServer").val(allTextLines[i]);
            if (i === 3) console.log(allTextLines[i]);
            if (i === 4) {
              $("#fTimeZone option").each(function () {
                if ($(this).text() == allTextLines[i]) {
                  $(this).attr("selected", "selected");
                }
              });
            }
            if (i === 5) $("#fHysteresisTemperature").val(allTextLines[i]);
            if (i === 6) $("#fHysteresisHumidity").val(allTextLines[i]);
            if (i === 7) $("#fTemperatureOffset").val(allTextLines[i]);
            if (i === 8) $("#fHumidityOffset").val(allTextLines[i]);
            if (i === 9) if (allTextLines[i] === "1") $("#fInvertInternalOutput").prop("checked", true);
            if (i === 10) if (allTextLines[i] === "1") $("#fOutputonSensorFail").prop("checked", true);
            if (i === 11) if (allTextLines[i] === "1") $("#fOutputonTimeFail").prop("checked", true);
            if (i === 12) if (allTextLines[i] === "1") $("#fOutputonInternetFail").prop("checked", true);
            if (i === 13) $("#fLogInterval").val(allTextLines[i]);
            if (i === 14) $("#fLogHttpLink").val(allTextLines[i]);
            if (i === 15) $("#fThingspeakLink").val(allTextLines[i]);
            if (i === 16) $("#fChannel_1Link").val(allTextLines[i]);
            if (i === 17) $("#fChannel_2Link").val(allTextLines[i]);
            if (i === 18) $("#fChannel_3Link").val(allTextLines[i]);
            if (i === 19) $("#fChannel_4Link").val(allTextLines[i]);
          }
        }
      }

      function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";

        if (tabName === "statusTab") {
          getStatus();
          statusTimer = setInterval(getStatus, 3000);
        } else {
          clearInterval(statusTimer);
        }

        if (tabName === "settingsTab") {
          $.ajax({
            url: "settings.conf",
            type: "get", //send it through get method
            async: false,
            success: function (response) {
              console.log("getSettings success");
              console.log(response);
              processSettingsData(response);
            },
            error: function (xhr) {
              console.log("getSettings error");
            },
          });
        }
      }
      // Get the element with id="defaultOpen" and click on it
      document.getElementById("defaultOpen").click();

      $(".validateInput").on("keyup", function (e) {
        var val = $(this).val();
        if (val.match(/[^0-9,.;*]/g)) {
          $(this).val(val.replace(/[^0-9,.;*]/g, ""));
        }
      });

      $("#txt_value").on("keyup", function (e) {
        var val = $(this).val();
        if (val.match(/[^0-9.]/g)) {
          $(this).val(val.replace(/[^0-9.]/g, ""));
        }
      });

      var table = $("#contentTable").DataTable({
        ordering: false,
        paging: false,
        searching: false,
        info: false,
        scrollX: true,
        scrollY: "400px",
        scrollCollapse: true,
        columns: [
          {
            title: "minute",
          },
          {
            title: "hour",
          },
          {
            title: "dayOfMonth",
          },
          {
            title: "month",
          },
          {
            title: "dayOfWeek",
          },
          {
            title: "channel",
          },
          {
            title: "function",
          },
          {
            title: "value",
          },
        ],
      });

      $(document).ready(function () {
        $.ajax({
          type: "GET",
          url: "timer.conf",
          dataType: "text",
          success: function (data) {
            processTableData(data);
          },
        });
        function processTableData(allText) {
          var allTextLines = allText.split(/\r\n|\n/);
          for (let i = 0; i < allTextLines.length - 1; i++) {
            if (!(allTextLines[i].trim() === "")) {
              table.row.add(allTextLines[i].split(";")).draw(false);
            }
          }
          table.draw();
          table.columns.adjust().draw();
        }
      });

      $("#ftimerBackupFile").click(function () {
        window.open("/timer.conf", "_blank");
      });

      $("#fsettingsBackupFile").click(function () {
        window.open("/settings.conf", "_blank");
      });

      $("#deleteRow").click(function () {
        isUnsaved = true;
        $("#saveTimer").css("background", "green");
        table.row(".selected").remove().draw(false);
      });

      $("#addRow").on("click", function () {
        isUnsaved = true;
        $("#saveTimer").css("background", "green");
        table.row.add([$("#txt_minute").val(), $("#txt_hour").val(), $("#txt_dayOfMonth").val(), $("#txt_month").val(), $("#txt_dayOfWeek").val(), $("#selChannel").val(), $("#selFunction").val(), $("#txt_value").val()]).draw(false);
      });

      $("#saveSettings").on("click", function () {
        console.log("Deleteing Settings File");
        $.ajax({
          url: "saveSetting.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent("deleteSettingsFile"),
          success: function (response) {
            console.log("deleteSettingsFile success");
          },
          error: function (xhr) {
            console.log("deleteSettingsFile error");
          },
        });

        console.log("Save new Settings File");
        var settingList = "";
        settingList += $("#fSSID").val() + "\n";
        settingList += $("#fPSK").val() + "\n";
        settingList += $("#fNTPServer").val() + "\n";
        settingList += $("#fTimeZone").val() + "\n";
        settingList += $("#fTimeZone option:selected").text() + "\n";
        settingList += $("#fHysteresisTemperature").val() + "\n";
        settingList += $("#fHysteresisHumidity").val() + "\n";
        settingList += $("#fTemperatureOffset").val() + "\n";
        settingList += $("#fHumidityOffset").val() + "\n";
        if ($("#fInvertInternalOutput").is(":checked")) {
          settingList += "1" + "\n";
        } else {
          settingList += "0" + "\n";
        }
        if ($("#fOutputonSensorFail").is(":checked")) {
          settingList += "1" + "\n";
        } else {
          settingList += "0" + "\n";
        }
        if ($("#fOutputonTimeFail").is(":checked")) {
          settingList += "1" + "\n";
        } else {
          settingList += "0" + "\n";
        }
        if ($("#fOutputonInternetFail").is(":checked")) {
          settingList += "1" + "\n";
        } else {
          settingList += "0" + "\n";
        }
        settingList += $("#fLogInterval").val() + "\n";
        settingList += $("#fLogHttpLink").val() + "\n";
        settingList += $("#fThingspeakLink").val() + "\n";
        settingList += $("#fChannel_1Link").val() + "\n";
        settingList += $("#fChannel_2Link").val() + "\n";
        settingList += $("#fChannel_3Link").val() + "\n";
        settingList += $("#fChannel_4Link").val() + "\n";

        $.ajax({
          url: "saveSetting.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent(settingList),
          success: function (response) {
            console.log("Save success");
          },
          error: function (xhr) {
            console.log("Save error");
          },
        });

        isUnsaved = false;
        location.reload();
      });

      $("#saveTimer").on("click", function () {
        console.log("Deleteing Timer File");
        $.ajax({
          url: "saveTimer.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent("deleteTimerFile"),
          success: function (response) {
            console.log("deleteTimerFile success");
          },
          error: function (xhr) {
            console.log("deleteTimerFile error");
          },
        });

        console.log("Save new Timer File");
        for (let i = 0; i < $("#contentTable").DataTable().data().length; i++) {
          console.log("Timer " + i + "/" + $("#contentTable").DataTable().data().length - 1);

          var csv = "";
          for (let j = 0; j < $("#contentTable").DataTable().data()[i].length; j++) {
            csv += $("#contentTable").DataTable().data()[i][j] + ";";
          }
          csv += "\n";
          console.log(csv);

          $.ajax({
            url: "saveTimer.html",
            type: "get", //send it through get method
            async: false,
            data: "data=" + encodeURIComponent(csv),
            success: function (response) {
              console.log("Save success");
            },
            error: function (xhr) {
              console.log("Save error");
            },
          });
        }

        $.ajax({
          url: "saveTimer.html",
          type: "get", //send it through get method
          async: false,
          data: "data=" + encodeURIComponent("FileEnd"),
          success: function (response) {
            console.log("FileEnd success");
          },
          error: function (xhr) {
            console.log("FileEnd error");
          },
        });
        isUnsaved = false;
        location.reload();
      });

      $("#contentTable tbody").on("click", "tr", function () {
        if ($(this).hasClass("selected")) {
          $(this).removeClass("selected");
        } else {
          table.$("tr.selected").removeClass("selected");
          $(this).addClass("selected");
        }
      });
    </script>
  </body>
</html>
